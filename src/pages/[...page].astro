---
import PostsList from '@layouts/PostsList.astro';
import siteConfig from '@config/site';
import { getPosts, type PostEntry } from '@lib/content';
import { DEFAULT_LOCALE } from '@lib/language';

export async function getStaticPaths({ paginate }) {
  const posts = await getPosts({ lang: DEFAULT_LOCALE });
  return paginate(posts, { pageSize: siteConfig.postsPerPage });
}

const { page } = Astro.props;
const posts = page.data as PostEntry[];
const lang = DEFAULT_LOCALE;
---
<PostsList
  title={`${siteConfig.title[lang]} â€” ${siteConfig.description[lang]}`}
  description={siteConfig.author.bio[lang]}
  posts={posts}
  page={page}
/>
