---
interface ProfileCardProps {
  title: string;
  description: string;
  profileHref: string;
  avatarSrc: string;
  alt: string;
  icon?: string;
  className?: string | string[] | Record<string, boolean>;
}

const {
  title,
  description,
  profileHref,
  avatarSrc,
  alt,
  icon = 'ðŸ’»',
  className,
}: ProfileCardProps = Astro.props;

const baseClasses = Array.isArray(className)
  ? className
  : typeof className === 'string'
  ? [className]
  : className && typeof className === 'object'
  ? Object.entries(className)
      .filter(([, value]) => Boolean(value))
      .map(([key]) => key)
  : [];

const classNames = ['profile', ...baseClasses.filter(Boolean)];
---
<div class={classNames.join(' ')}>
  <div class="profile__title title">
    <span class="icon">{icon}</span> {title}
  </div>
  <div class="profile__content">
    <div class="profile__content-top">
      <a href={profileHref}>
        <img src={avatarSrc} alt={alt} />
      </a>
    </div>
    <div class="profile__content-mid">
      <div class="profile__text">{description}</div>
    </div>
  </div>
</div>
